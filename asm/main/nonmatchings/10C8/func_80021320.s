.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel func_80021320
/* 9B20 80021320 E0FFBD27 */  addiu      $sp, $sp, -0x20
/* 9B24 80021324 1C00BFAF */  sw         $ra, 0x1C($sp)
/* 9B28 80021328 1800B2AF */  sw         $s2, 0x18($sp)
/* 9B2C 8002132C 1400B1AF */  sw         $s1, 0x14($sp)
/* 9B30 80021330 1000B0AF */  sw         $s0, 0x10($sp)
/* 9B34 80021334 21808000 */  addu       $s0, $a0, $zero
/* 9B38 80021338 2188A000 */  addu       $s1, $a1, $zero
/* 9B3C 8002133C 2190C000 */  addu       $s2, $a2, $zero
/* 9B40 80021340 0480023C */  lui        $v0, %hi(D_80047E28)
/* 9B44 80021344 287E428C */  lw         $v0, %lo(D_80047E28)($v0)
/* 9B48 80021348 01000334 */  ori        $v1, $zero, 0x1
/* 9B4C 8002134C 4A004310 */  beq        $v0, $v1, .L80021478
/* 9B50 80021350 21100000 */   addu      $v0, $zero, $zero
/* 9B54 80021354 0480023C */  lui        $v0, %hi(D_80047E30)
/* 9B58 80021358 307E428C */  lw         $v0, %lo(D_80047E30)($v0)
/* 9B5C 8002135C 00000000 */  nop
/* 9B60 80021360 12004314 */  bne        $v0, $v1, .L800213AC
/* 9B64 80021364 00000000 */   nop
/* 9B68 80021368 0480043C */  lui        $a0, %hi(D_80047E34)
/* 9B6C 8002136C 347E848C */  lw         $a0, %lo(D_80047E34)($a0)
/* 9B70 80021370 988C000C */  jal        func_80023260
/* 9B74 80021374 00000000 */   nop
/* 9B78 80021378 0580033C */  lui        $v1, %hi(D_8004800C)
/* 9B7C 8002137C 0C80638C */  lw         $v1, %lo(D_8004800C)($v1)
/* 9B80 80021380 FFFF0224 */  addiu      $v0, $zero, -0x1
/* 9B84 80021384 0480013C */  lui        $at, %hi(D_80047E34)
/* 9B88 80021388 347E22AC */  sw         $v0, %lo(D_80047E34)($at)
/* 9B8C 8002138C 0480013C */  lui        $at, %hi(D_80047E30)
/* 9B90 80021390 307E20AC */  sw         $zero, %lo(D_80047E30)($at)
/* 9B94 80021394 03006010 */  beqz       $v1, .L800213A4
/* 9B98 80021398 00000000 */   nop
/* 9B9C 8002139C 09F86000 */  jalr       $v1
/* 9BA0 800213A0 00000000 */   nop
.L800213A4:
/* 9BA4 800213A4 0580013C */  lui        $at, %hi(D_8004800C)
/* 9BA8 800213A8 0C8020AC */  sw         $zero, %lo(D_8004800C)($at)
.L800213AC:
/* 9BAC 800213AC 0580013C */  lui        $at, %hi(D_80048004)
/* 9BB0 800213B0 048032AC */  sw         $s2, %lo(D_80048004)($at)
/* 9BB4 800213B4 0300001E */  bgtz       $s0, .L800213C4
/* 9BB8 800213B8 0104022A */   slti      $v0, $s0, 0x401
/* 9BBC 800213BC 01001034 */  ori        $s0, $zero, 0x1
/* 9BC0 800213C0 0104022A */  slti       $v0, $s0, 0x401
.L800213C4:
/* 9BC4 800213C4 02004014 */  bnez       $v0, .L800213D0
/* 9BC8 800213C8 0104222A */   slti      $v0, $s1, 0x401
/* 9BCC 800213CC 00041034 */  ori        $s0, $zero, 0x400
.L800213D0:
/* 9BD0 800213D0 02004014 */  bnez       $v0, .L800213DC
/* 9BD4 800213D4 00000000 */   nop
/* 9BD8 800213D8 00041134 */  ori        $s1, $zero, 0x400
.L800213DC:
/* 9BDC 800213DC 02002106 */  bgez       $s1, .L800213E8
/* 9BE0 800213E0 00040234 */   ori       $v0, $zero, 0x400
/* 9BE4 800213E4 21880000 */  addu       $s1, $zero, $zero
.L800213E8:
/* 9BE8 800213E8 1A005000 */  div        $zero, $v0, $s0
/* 9BEC 800213EC 02000016 */  bnez       $s0, .L800213F8
/* 9BF0 800213F0 00000000 */   nop
/* 9BF4 800213F4 0D000700 */  break      7
.L800213F8:
/* 9BF8 800213F8 FFFF0124 */  addiu      $at, $zero, -0x1
/* 9BFC 800213FC 04000116 */  bne        $s0, $at, .L80021410
/* 9C00 80021400 0080013C */   lui       $at, (0x80000000 >> 16)
/* 9C04 80021404 02004114 */  bne        $v0, $at, .L80021410
/* 9C08 80021408 00000000 */   nop
/* 9C0C 8002140C 0D000600 */  break      6
.L80021410:
/* 9C10 80021410 12100000 */  mflo       $v0
/* 9C14 80021414 0480013C */  lui        $at, %hi(D_80047E40)
/* 9C18 80021418 407E31AC */  sw         $s1, %lo(D_80047E40)($at)
/* 9C1C 8002141C 0280043C */  lui        $a0, %hi(func_800210E4)
/* 9C20 80021420 E4108424 */  addiu      $a0, $a0, %lo(func_800210E4)
/* 9C24 80021424 0480013C */  lui        $at, %hi(D_80047E3C)
/* 9C28 80021428 3C7E22AC */  sw         $v0, %lo(D_80047E3C)($at)
/* 9C2C 8002142C 628C000C */  jal        func_80023188
/* 9C30 80021430 01000534 */   ori       $a1, $zero, 0x1
/* 9C34 80021434 0480013C */  lui        $at, %hi(D_80047E2C)
/* 9C38 80021438 2C7E22AC */  sw         $v0, %lo(D_80047E2C)($at)
/* 9C3C 8002143C 0480023C */  lui        $v0, %hi(D_80047E2C)
/* 9C40 80021440 2C7E428C */  lw         $v0, %lo(D_80047E2C)($v0)
/* 9C44 80021444 00000000 */  nop
/* 9C48 80021448 05004004 */  bltz       $v0, .L80021460
/* 9C4C 8002144C 01000234 */   ori       $v0, $zero, 0x1
/* 9C50 80021450 0480013C */  lui        $at, %hi(D_80047E28)
/* 9C54 80021454 287E22AC */  sw         $v0, %lo(D_80047E28)($at)
/* 9C58 80021458 1E850008 */  j          .L80021478
/* 9C5C 8002145C 00000000 */   nop
.L80021460:
/* 9C60 80021460 FFFF0224 */  addiu      $v0, $zero, -0x1
/* 9C64 80021464 0480013C */  lui        $at, %hi(D_80047E2C)
/* 9C68 80021468 2C7E22AC */  sw         $v0, %lo(D_80047E2C)($at)
/* 9C6C 8002146C 0480013C */  lui        $at, %hi(D_80047E28)
/* 9C70 80021470 287E20AC */  sw         $zero, %lo(D_80047E28)($at)
/* 9C74 80021474 21100000 */  addu       $v0, $zero, $zero
.L80021478:
/* 9C78 80021478 1C00BF8F */  lw         $ra, 0x1C($sp)
/* 9C7C 8002147C 1800B28F */  lw         $s2, 0x18($sp)
/* 9C80 80021480 1400B18F */  lw         $s1, 0x14($sp)
/* 9C84 80021484 1000B08F */  lw         $s0, 0x10($sp)
/* 9C88 80021488 0800E003 */  jr         $ra
/* 9C8C 8002148C 2000BD27 */   addiu     $sp, $sp, 0x20
